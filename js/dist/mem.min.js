!function(s,i){"use strict";var t=function(s){return function(i){return new s(i)}};s.__calloc__=t;var h=function(s){var i=function(i){this.buffer=new s(i),this.n=1,this.slo=0,this.shi=1,this.alo=0,this.ahi=1,this.size=new Uint32Array(1),this.addr=new Uint32Array(1),this.smap=new Uint32Array(1),this.amap=new Uint32Array(1),this.size[0]=i,this.addr[0]=0,this.smap[0]=0,this.amap[0]=0};i.prototype.alloc=function(s){var i,t;return i=this.ssearch(s,this.slo,this.shi),this.size[i]-=s,this.addr[i]+=s,t=this.ssearch(s,this.slo,i),this.smove(i,t),i},i.prototype.smove=function(s,i){var t,h,a,o;if(a=s-i,h=this.shi-this.slo-a,this.slo>0&&a>h){for(--this.slo,o=this.slo;i>o;++o)this.size[o]=this.size[o+1],this.smap[o]=this.smap[o+1];for(this.size[i]=this.size[s],this.smap[i]=this.smap[s],o=s;o<this.shi;++o)this.size[o]=this.size[o+1],this.smap[o]=this.smap[o+1];--this.shi}else{for(t=this.size[s],o=s;o>i;--o)this.size[o]=this.size[o-1];for(this.size[i]=t,t=this.smap[s],o=s;o>i;--o)this.smap[o]=this.smap[o-1];this.smap[i]=t}this.amap[this.smap[i]]=i},i.prototype.free=function(s,i){var t,h,a,o;for(t=this.asearch(s,this.alo,this.ahi),a=this.addr[t-1]+this.size[this.amap[t-1]]===s,o=s+i===this.addr[t],a^o?a?this.size[this.amap[t-1]]+=i:this.addr[t]-=i:a?(this.addr[t-1]=this.addr[t-1],this.size[y]=i+this.size[t-1]+this.size[t],this.smap[y]=t-1,this.amap[t-1]=y):(this.addr[t]=s,this.size[y]=i,this.smap[y]=t,this.amap[t]=y),h=this.ahi;h>t;--h)this.addr[h]=this.addr[h-1],this.amap[h]=this.amap[h-1]}};s.heap=h;var a=function(s){return new ArrayBuffer(s)};s.malloc=a;var o=function(s){this.init=s,this.pool=[]};o.prototype.collect=function(){this.pool=[]},o.prototype.alloc=function(){return this.pool.length>0?this.pool.pop():this.init()},o.prototype.free=function(s){this.pool.push(s)},s.Pool=o}("undefined"==typeof exports?this.mem={}:exports);
//# sourceMappingURL=js/dist//mem.js.map