"use strict";!function(){var s=function(s,i){var t=function(s){return function(i){return new s(i)}};s._calloc=t;var h=function(s){var i=function(i){this.buffer=new s(i),this.n=1,this.slo=0,this.shi=1,this.alo=0,this.ahi=1,this.size=new Uint32Array(1),this.addr=new Uint32Array(1),this.smap=new Uint32Array(1),this.amap=new Uint32Array(1),this.size[0]=i,this.addr[0]=0,this.smap[0]=0,this.amap[0]=0};i.prototype.alloc=function(s){var i,t;return i=this.ssearch(s,this.slo,this.shi),this.size[i]-=s,this.addr[i]+=s,t=this.ssearch(s,this.slo,i),this.smove(i,t),i},i.prototype.smove=function(s,i){var t,h,o,e;if(o=s-i,h=this.shi-this.slo-o,this.slo>0&&o>h){for(--this.slo,e=this.slo;i>e;++e)this.size[e]=this.size[e+1],this.smap[e]=this.smap[e+1];for(this.size[i]=this.size[s],this.smap[i]=this.smap[s],e=s;e<this.shi;++e)this.size[e]=this.size[e+1],this.smap[e]=this.smap[e+1];--this.shi}else{for(t=this.size[s],e=s;e>i;--e)this.size[e]=this.size[e-1];for(this.size[i]=t,t=this.smap[s],e=s;e>i;--e)this.smap[e]=this.smap[e-1];this.smap[i]=t}this.amap[this.smap[i]]=i},i.prototype.free=function(s,i){var t,h,o,e;for(t=this.asearch(s,this.alo,this.ahi),o=this.addr[t-1]+this.size[this.amap[t-1]]===s,e=s+i===this.addr[t],o^e?o?this.size[this.amap[t-1]]+=i:this.addr[t]-=i:o?(this.addr[t-1]=this.addr[t-1],this.size[y]=i+this.size[t-1]+this.size[t],this.smap[y]=t-1,this.amap[t-1]=y):(this.addr[t]=s,this.size[y]=i,this.smap[y]=t,this.amap[t]=y),h=this.ahi;h>t;--h)this.addr[h]=this.addr[h-1],this.amap[h]=this.amap[h-1]}};s.heap=h;var o=function(s){return new ArrayBuffer(s)};s.malloc=o;var e=function(s){this.init=s,this.pool=[]};return e.prototype.collect=function(){this.pool=[]},e.prototype.alloc=function(){return this.pool.length>0?this.pool.pop():this.init()},e.prototype.free=function(s){this.pool.push(s)},s.Pool=e,s};"object"==typeof exports?s(exports):"function"==typeof define&&define.amd?define("aureooms-js-memory",[],function(){return s({})}):"object"==typeof window&&"object"==typeof window.document?s(window.memory={}):console.error("unable to detect type of module to define for aureooms-js-memory")}();
//# sourceMappingURL=js/dist/memory.js.map