"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Pool = Pool;
/**
 * Pool containing objects of a single type.
 */
function Pool(init) {
	this.init = init;
	this.pool = [];
};

Pool.prototype.collect = function () {
	this.pool = [];
};

Pool.prototype.alloc = function () {

	if (this.pool.length > 0) {
		return this.pool.pop();
	} else {
		return this.init();
	}
};

Pool.prototype.free = function (object) {
	this.pool.push(object);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9wb29sLmpzIl0sIm5hbWVzIjpbIlBvb2wiLCJpbml0IiwicG9vbCIsInByb3RvdHlwZSIsImNvbGxlY3QiLCJhbGxvYyIsImxlbmd0aCIsInBvcCIsImZyZWUiLCJvYmplY3QiLCJwdXNoIl0sIm1hcHBpbmdzIjoiOzs7OztRQUdnQkEsSSxHQUFBQSxJO0FBSGhCOzs7QUFHTyxTQUFTQSxJQUFULENBQWdCQyxJQUFoQixFQUF1QjtBQUM3QixNQUFLQSxJQUFMLEdBQVlBLElBQVo7QUFDQSxNQUFLQyxJQUFMLEdBQVksRUFBWjtBQUNBLENBQUM7O0FBRUZGLEtBQUtHLFNBQUwsQ0FBZUMsT0FBZixHQUF5QixZQUFhO0FBQ3JDLE1BQUtGLElBQUwsR0FBWSxFQUFaO0FBQ0EsQ0FGRDs7QUFJQUYsS0FBS0csU0FBTCxDQUFlRSxLQUFmLEdBQXVCLFlBQWE7O0FBRW5DLEtBQUssS0FBS0gsSUFBTCxDQUFVSSxNQUFWLEdBQW1CLENBQXhCLEVBQTRCO0FBQzNCLFNBQU8sS0FBS0osSUFBTCxDQUFVSyxHQUFWLEVBQVA7QUFDQSxFQUZELE1BSUs7QUFDSixTQUFPLEtBQUtOLElBQUwsRUFBUDtBQUNBO0FBRUQsQ0FWRDs7QUFZQUQsS0FBS0csU0FBTCxDQUFlSyxJQUFmLEdBQXNCLFVBQVdDLE1BQVgsRUFBb0I7QUFDekMsTUFBS1AsSUFBTCxDQUFVUSxJQUFWLENBQWdCRCxNQUFoQjtBQUNBLENBRkQiLCJmaWxlIjoicG9vbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUG9vbCBjb250YWluaW5nIG9iamVjdHMgb2YgYSBzaW5nbGUgdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFBvb2wgKCBpbml0ICkge1xuXHR0aGlzLmluaXQgPSBpbml0IDtcblx0dGhpcy5wb29sID0gWyBdIDtcbn0gO1xuXG5Qb29sLnByb3RvdHlwZS5jb2xsZWN0ID0gZnVuY3Rpb24gKCApIHtcblx0dGhpcy5wb29sID0gWyBdIDtcbn0gO1xuXG5Qb29sLnByb3RvdHlwZS5hbGxvYyA9IGZ1bmN0aW9uICggKSB7XG5cblx0aWYgKCB0aGlzLnBvb2wubGVuZ3RoID4gMCApIHtcblx0XHRyZXR1cm4gdGhpcy5wb29sLnBvcCgpIDtcblx0fVxuXG5cdGVsc2Uge1xuXHRcdHJldHVybiB0aGlzLmluaXQoKSA7XG5cdH1cblxufSA7XG5cblBvb2wucHJvdG90eXBlLmZyZWUgPSBmdW5jdGlvbiAoIG9iamVjdCApIHtcblx0dGhpcy5wb29sLnB1c2goIG9iamVjdCApIDtcbn0gO1xuIl19